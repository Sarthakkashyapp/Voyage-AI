import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for Location : Las Vegas, for 3 days for Couple with a Cheap budget ,Give me Hotels options list with HotelName, Hoteladdress, Price, hotel image url, geo coordinates, rating , descriptions and suggest itinerary with PlaceName, PlaceDetails, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"The Orleans Hotel & Casino\",\n      \"hotel_address\": \"4500 W Tropicana Ave, Paradise, NV 89103\",\n      \"price\": \"$60 - $100 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1982000/1981400/1981429.jpg\",\n      \"geo_coordinates\": \"36.1034, -115.1728\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A classic Las Vegas hotel with a casino, multiple restaurants, and a pool. Offers affordable rates and a convenient location.\"\n    },\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotel_image_url\": \"https://media.timeout.com/images/103461942/image.jpg\",\n      \"geo_coordinates\": \"36.1208, -115.1671\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A budget-friendly option known for its circus acts and family-friendly atmosphere. Offers a wide range of dining and entertainment choices.\"\n    },\n    {\n      \"hotel_name\": \"The Golden Nugget Hotel & Casino\",\n      \"hotel_address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$80 - $150 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1982000/1981800/1981828.jpg\",\n      \"geo_coordinates\": \"36.1699, -115.1423\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A downtown hotel with a vibrant casino, a world-famous shark tank, and a variety of dining and nightlife options.\"\n    },\n    {\n      \"hotel_name\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1983000/1982600/1982632.jpg\",\n      \"geo_coordinates\": \"36.1085, -115.1514\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A unique hotel with an observation tower offering panoramic views of Las Vegas. Offers affordable rates and a variety of dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"Explore the vibrant pedestrian mall with its dazzling light show, street performers, and numerous shops and restaurants.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Fremont_Street_Experience_Aerial.jpg/1200px-Fremont_Street_Experience_Aerial.jpg\",\n          \"geo_coordinates\": \"36.1697, -115.1432\",\n          \"ticket_pricing\": \"Free\",\n          \"rating\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"place_name\": \"Golden Nugget Casino\",\n          \"place_details\": \"Enjoy a casual lunch at one of the many restaurants inside the casino. Check out the impressive shark tank and the lively casino floor.\",\n          \"place_image_url\": \"https://media.timeout.com/images/103461845/image.jpg\",\n          \"geo_coordinates\": \"36.1699, -115.1423\",\n          \"ticket_pricing\": \"Free\",\n          \"rating\": \"4 stars\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - 9:00 PM)\",\n          \"place_name\": \"The Neon Museum\",\n          \"place_details\": \"Explore the fascinating collection of vintage neon signs representing Las Vegas's history. Take a guided tour to learn about the iconic signs and their stories.\",\n          \"place_image_url\": \"https://www.travelandleisure.com/thmb/y5l302p6q6l19-8c6kX66yN4g=/1500x1000/filters:fill(auto,1)/neon-museum-las-vegas-las-vegas-neon-museum-1-0e3b2d9ba2004d23b286b3b2264b6535.jpg\",\n          \"geo_coordinates\": \"36.1735, -115.1530\",\n          \"ticket_pricing\": \"$25 per person\",\n          \"rating\": \"4.5 stars\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"Admire the beautiful floral displays and seasonal themes at this stunning conservatory. It's a perfect place to escape the heat and enjoy a peaceful moment.\",\n          \"place_image_url\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory/2022/conservatory-winter-2022-hero.jpg\",\n          \"geo_coordinates\": \"36.1145, -115.1719\",\n          \"ticket_pricing\": \"Free\",\n          \"rating\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"place_name\": \"The LINQ Promenade\",\n          \"place_details\": \"Enjoy a leisurely walk along this outdoor shopping and dining complex. Check out the High Roller observation wheel for panoramic views of the city.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/The_LINQ_Promenade_2015.jpg/1200px-The_LINQ_Promenade_2015.jpg\",\n          \"geo_coordinates\": \"36.1172, -115.1674\",\n          \"ticket_pricing\": \"Free (High Roller tickets vary)\",\n          \"rating\": \"4 stars\"\n        },\n        {\n          \"time\": \"Evening (7:00 PM - 10:00 PM)\",\n          \"place_name\": \"The Venetian & The Palazzo\",\n          \"place_details\": \"Experience the grandeur of this luxurious resort complex. Stroll through the charming canals and enjoy a romantic gondola ride.\",\n          \"place_image_url\": \"https://www.venetian.com/content/dam/venetian/images/gondola-rides-01-mobile.jpg\",\n          \"geo_coordinates\": \"36.1218, -115.1732\",\n          \"ticket_pricing\": \"Gondola ride: $30 - $50\",\n          \"rating\": \"4.5 stars\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place_name\": \"Red Rock Canyon National Conservation Area\",\n          \"place_details\": \"Escape the city and enjoy scenic hiking trails amidst the red rock formations. Take a scenic drive through the park for breathtaking views.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Red_Rock_Canyon_1.jpg/1200px-Red_Rock_Canyon_1.jpg\",\n          \"geo_coordinates\": \"36.1731, -115.2344\",\n          \"ticket_pricing\": \"Entrance fee: $15 per vehicle\",\n          \"rating\": \"4.5 stars\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"place_name\": \"Downtown Container Park\",\n          \"place_details\": \"Enjoy a unique shopping and dining experience in this outdoor park made from repurposed shipping containers. Check out the interactive art installations and live music.\",\n          \"place_image_url\": \"https://www.lasvegas.com/media/images/pages/downtown-container-park-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1686, -115.1427\",\n          \"ticket_pricing\": \"Free\",\n          \"rating\": \"4 stars\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - 9:00 PM)\",\n          \"place_name\": \"Free Show on the Strip\",\n          \"place_details\": \"Enjoy a free show on the Las Vegas Strip. Many casinos offer free evening shows featuring music, dance, or magic acts. Check the casino websites for schedules.\",\n          \"place_image_url\": \"https://www.travelandleisure.com/thmb/3-T0jQ3H6H7Q11C1f7bF530U0w=/1500x1000/filters:fill(auto,1)/las-vegas-strip-night-01775d1377104d97a25e3420a872f336.jpg\",\n          \"geo_coordinates\": \"36.1221, -115.1726\",\n          \"ticket_pricing\": \"Free\",\n          \"rating\": \"4 stars\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON format provides a detailed travel plan for a couple visiting Las Vegas on a cheap budget for 3 days. It includes:\n\n* **hotel_options:** A list of four budget-friendly hotels in Las Vegas with their name, address, price range, image URL, geo coordinates, rating, and a brief description.\n* **itinerary:** A detailed itinerary for each day, including:\n    * **Day:** Specifies the day of the trip.\n    * **Plan:** A list of activities for that day, with the following information:\n        * **Time:** The estimated time for the activity.\n        * **place_name:** The name of the place to visit.\n        * **place_details:** A brief description of the place and what to expect.\n        * **place_image_url:** A URL to an image representing the place.\n        * **geo_coordinates:** The geographic coordinates of the place.\n        * **ticket_pricing:** The estimated cost of entry or any additional expenses.\n        * **rating:** A general rating of the place.\n\nThis itinerary provides a good balance of popular attractions, local experiences, and budget-friendly options for a couple visiting Las Vegas. You can adjust the plan according to your preferences and interests. Remember to book your hotels and attractions in advance to secure the best deals.\n"},
          ],
        },
      ],
    });


  